{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport { API_URL, handleErrors, TOKEN_KEY } from \"./apisettings\";\nimport AsyncStorage from \"@react-native-async-storage/async-storage\";\nvar CONTROLLER = \"Beneficio/\";\n\nfunction listar() {\n  return _regeneratorRuntime.async(function listar$(_context) {\n    while (1) {\n      switch (_context.prev = _context.next) {\n        case 0:\n          _context.t0 = fetch;\n          _context.t1 = API_URL + CONTROLLER;\n          _context.next = 4;\n          return _regeneratorRuntime.awrap(AsyncStorage.getItem(TOKEN_KEY));\n\n        case 4:\n          _context.t2 = _context.sent;\n          _context.t3 = 'Bearer ' + _context.t2;\n          _context.t4 = {\n            authorization: _context.t3\n          };\n          _context.t5 = {\n            method: \"GET\",\n            headers: _context.t4\n          };\n          return _context.abrupt(\"return\", (0, _context.t0)(_context.t1, _context.t5).then(handleErrors).then(function (response) {\n            return response.json();\n          }).catch(function (err) {\n            return console.error(err);\n          }));\n\n        case 9:\n        case \"end\":\n          return _context.stop();\n      }\n    }\n  }, null, null, null, Promise);\n}\n\nfunction buscarPorId(id) {\n  return _regeneratorRuntime.async(function buscarPorId$(_context2) {\n    while (1) {\n      switch (_context2.prev = _context2.next) {\n        case 0:\n          _context2.t0 = fetch;\n          _context2.t1 = API_URL + CONTROLLER + id;\n          _context2.next = 4;\n          return _regeneratorRuntime.awrap(AsyncStorage.getItem(TOKEN_KEY));\n\n        case 4:\n          _context2.t2 = _context2.sent;\n          _context2.t3 = 'Bearer ' + _context2.t2;\n          _context2.t4 = {\n            authorization: _context2.t3\n          };\n          _context2.t5 = {\n            method: \"GET\",\n            headers: _context2.t4\n          };\n          return _context2.abrupt(\"return\", (0, _context2.t0)(_context2.t1, _context2.t5).then(handleErrors).then(function (response) {\n            return response.json();\n          }).catch(function (err) {\n            return console.error(err);\n          }));\n\n        case 9:\n        case \"end\":\n          return _context2.stop();\n      }\n    }\n  }, null, null, null, Promise);\n}\n\nfunction salvar(beneficio, id) {\n  var method, urlRequest;\n  return _regeneratorRuntime.async(function salvar$(_context3) {\n    while (1) {\n      switch (_context3.prev = _context3.next) {\n        case 0:\n          method = id === 0 ? 'POST' : 'PUT';\n          urlRequest = id === 0 ? API_URL + CONTROLLER : API_URL + CONTROLLER + id;\n          _context3.t0 = fetch;\n          _context3.t1 = urlRequest;\n          _context3.t2 = method;\n          _context3.t3 = JSON.stringify(beneficio);\n          _context3.next = 8;\n          return _regeneratorRuntime.awrap(AsyncStorage.getItem(TOKEN_KEY));\n\n        case 8:\n          _context3.t4 = _context3.sent;\n          _context3.t5 = 'Bearer ' + _context3.t4;\n          _context3.t6 = {\n            'content-type': 'application/json',\n            authorization: _context3.t5\n          };\n          _context3.t7 = {\n            method: _context3.t2,\n            body: _context3.t3,\n            headers: _context3.t6\n          };\n          return _context3.abrupt(\"return\", (0, _context3.t0)(_context3.t1, _context3.t7).then(handleErrors).then(function () {\n            return beneficio;\n          }).catch(function (err) {\n            return console.error(err);\n          }));\n\n        case 13:\n        case \"end\":\n          return _context3.stop();\n      }\n    }\n  }, null, null, null, Promise);\n}\n\nfunction deletar(id) {\n  return _regeneratorRuntime.async(function deletar$(_context4) {\n    while (1) {\n      switch (_context4.prev = _context4.next) {\n        case 0:\n          _context4.t0 = fetch;\n          _context4.t1 = API_URL + CONTROLLER + id;\n          _context4.next = 4;\n          return _regeneratorRuntime.awrap(AsyncStorage.getItem(TOKEN_KEY));\n\n        case 4:\n          _context4.t2 = _context4.sent;\n          _context4.t3 = 'Bearer ' + _context4.t2;\n          _context4.t4 = {\n            authorization: _context4.t3\n          };\n          _context4.t5 = {\n            method: 'DELETE',\n            headers: _context4.t4\n          };\n          (0, _context4.t0)(_context4.t1, _context4.t5).then(handleErrors).then(function (response) {\n            return response.json();\n          }).catch(function (err) {\n            return console.error(err);\n          });\n\n        case 9:\n        case \"end\":\n          return _context4.stop();\n      }\n    }\n  }, null, null, null, Promise);\n}\n\nexport default {\n  listar: listar,\n  buscarPorId: buscarPorId,\n  salvar: salvar,\n  deletar: deletar\n};","map":{"version":3,"sources":["C:/Users/Matheus/Documentos/Projetos/Programacao/React Native/ConexaoVagas-App/api/beneficios.ts"],"names":["API_URL","handleErrors","TOKEN_KEY","AsyncStorage","CONTROLLER","listar","fetch","getItem","authorization","method","headers","then","response","json","catch","err","console","error","buscarPorId","id","salvar","beneficio","urlRequest","JSON","stringify","body","deletar"],"mappings":"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","sourcesContent":["import { Beneficio } from \"../models/beneficio\";\r\nimport { API_URL, handleErrors, TOKEN_KEY } from \"./apisettings\";\r\nimport AsyncStorage from \"@react-native-async-storage/async-storage\";\r\n\r\nconst CONTROLLER = \"Beneficio/\";\r\n\r\n/**\r\n * Lista beneficios.\r\n */\r\nasync function listar(): Promise<Beneficio[]> {\r\n    return fetch(API_URL + CONTROLLER, {\r\n        method: \"GET\",\r\n        headers: {\r\n            authorization: 'Bearer ' + await AsyncStorage.getItem(TOKEN_KEY)\r\n        }\r\n    })\r\n        .then(handleErrors)\r\n        .then(response => {\r\n            return response.json();\r\n        })\r\n        .catch(err => console.error(err));\r\n}\r\n\r\n/**\r\n * \r\n * @param id ID da beneficio\r\n * @returns A beneficio buscada.\r\n */\r\nasync function buscarPorId(id: number): Promise<Beneficio> {\r\n    return fetch(API_URL + CONTROLLER + id, {\r\n        method: \"GET\",\r\n        headers: {\r\n            authorization: 'Bearer ' + await AsyncStorage.getItem(TOKEN_KEY)\r\n        }\r\n    })\r\n        .then(handleErrors)\r\n        .then(response => {\r\n            return response.json();\r\n        })\r\n        .catch(err => console.error(err));\r\n}\r\n\r\n/**\r\n * \r\n * @param beneficio Objeto beneficio a ser adicionado/atualizado.\r\n * @param id ID do beneficio a ser atualizado.  O valor é 0 quando apenas quer adicionar.\r\n * @returns Objeto beneficio se a operação for feita com sucesso, caso contrário retorno nada.\r\n */\r\nasync function salvar(beneficio: Beneficio, id: number): Promise<Beneficio> {\r\n\r\n    const method = (id === 0 ? 'POST' : 'PUT');\r\n    const urlRequest = (id === 0 ? API_URL + CONTROLLER : API_URL + CONTROLLER + id);\r\n\r\n    return fetch(urlRequest, {\r\n        method: method,\r\n        body: JSON.stringify(beneficio),\r\n        headers: {\r\n            'content-type': 'application/json',\r\n            authorization: 'Bearer ' + await AsyncStorage.getItem(TOKEN_KEY)\r\n        }\r\n    })\r\n        .then(handleErrors)\r\n        .then(() => {\r\n            return beneficio as any;\r\n        })\r\n        .catch(err => console.error(err));\r\n}\r\n\r\n/**\r\n * Deleta uma beneficio.\r\n * @param id ID da beneficio\r\n */\r\nasync function deletar(id: number): Promise<void> {\r\n    fetch(API_URL + CONTROLLER + id, {\r\n        method: 'DELETE',\r\n        headers: {\r\n            authorization: 'Bearer ' + await AsyncStorage.getItem(TOKEN_KEY)\r\n        }\r\n    })\r\n        .then(handleErrors)\r\n        .then(response => response.json())\r\n        .catch(err => console.error(err));\r\n}\r\n\r\nexport default {listar, buscarPorId, salvar, deletar}"]},"metadata":{},"sourceType":"module"}